"use strict";(self["webpackChunkmyapp"]=self["webpackChunkmyapp"]||[]).push([[507],{8507:function(e,t,a){a.r(t),a.d(t,{default:function(){return Q}});var o=a(6768),l=a(4232);const r={class:"dashboard-controls"},n={class:"status"},i={class:"status"},s={class:"container"},c={class:"itemLeft"},d={class:"itemCenter"},u={class:"interaction-log"},m={class:"log-content"},f={class:"itemRight"};function h(e,t,a,h,v,g){const b=(0,o.g2)("ItemOne"),y=(0,o.g2)("ItemPage"),p=(0,o.g2)("ItemTwo"),S=(0,o.g2)("ItemThree"),w=(0,o.g2)("MapPage"),x=(0,o.g2)("ItemFour"),L=(0,o.g2)("ItemFive"),k=(0,o.g2)("ItemSix");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("header",null,[t[3]||(t[3]=(0,o.Lk)("h1",null,"基于山东省临市2016-2018年度医保数据——数据可视化分析的医疗报告",-1)),(0,o.Lk)("div",r,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>h.resetLinkage&&h.resetLinkage(...e))},"重置联动"),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>h.simulateDataUpdate&&h.simulateDataUpdate(...e))},"模拟数据更新"),(0,o.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>h.toggleLinkage&&h.toggleLinkage(...e))},(0,l.v_)(h.linkageEnabled?"禁用联动":"启用联动"),1),(0,o.Lk)("span",n,"已连接图表: "+(0,l.v_)(h.chartInstances.length)+"个",1),(0,o.Lk)("span",i,"最后交互: "+(0,l.v_)(h.lastInteraction),1)])]),(0,o.Lk)("section",s,[(0,o.Lk)("section",c,[(0,o.bF)(y,null,{default:(0,o.k6)(()=>[(0,o.bF)(b,{onRegister:h.registerChart},null,8,["onRegister"])]),_:1}),(0,o.bF)(y,null,{default:(0,o.k6)(()=>[(0,o.bF)(p,{onRegister:h.registerChart},null,8,["onRegister"])]),_:1}),(0,o.bF)(y,null,{default:(0,o.k6)(()=>[(0,o.bF)(S,{onRegister:h.registerChart},null,8,["onRegister"])]),_:1})]),(0,o.Lk)("section",d,[(0,o.bF)(w,{onRegister:h.registerChart},null,8,["onRegister"]),(0,o.Lk)("div",u,[t[4]||(t[4]=(0,o.Lk)("h3",null,"交互记录",-1)),(0,o.Lk)("div",m,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(h.interactionLogs,(e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"log-item"},(0,l.v_)(e),1))),128))])])]),(0,o.Lk)("section",f,[(0,o.bF)(y,null,{default:(0,o.k6)(()=>[(0,o.bF)(x,{onRegister:h.registerChart},null,8,["onRegister"])]),_:1}),(0,o.bF)(y,null,{default:(0,o.k6)(()=>[(0,o.bF)(L,{onRegister:h.registerChart},null,8,["onRegister"])]),_:1}),(0,o.bF)(y,null,{default:(0,o.k6)(()=>[(0,o.bF)(k,{onRegister:h.registerChart},null,8,["onRegister"])]),_:1})])])])}a(4114),a(8111),a(7588),a(1701);const v={class:"item"};function g(e,t,a,l,r,n){return(0,o.uX)(),(0,o.CE)("div",v,[(0,o.RG)(e.$slots,"default")])}var b={},y=a(1241);const p=(0,y.A)(b,[["render",g]]);var S=p,w=a(144),x=a(4739),L={__name:"itemOne",emits:["register"],setup(e,{emit:t}){const a=t,l=(0,w.KR)(null);let r=null;const n=()=>{if(!l.value)return;r=x.init(l.value);const e={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},backgroundColor:"rgba(10, 30, 50, 0.9)",borderColor:"#1E90FF",borderWidth:1,textStyle:{color:"#fff"},formatter:e=>{let t=`<strong>${e[0].name}</strong><br/>`;return e.forEach(e=>{t+=`${e.marker} ${e.seriesName}: ${e.seriesName.includes("费用")?"¥":""}${e.value.toLocaleString()}<br/>`}),t}},legend:{data:["平均费用","患者数量"],top:5,textStyle:{color:"#fff"},itemWidth:12,itemHeight:12},grid:{left:"5%",right:"8%",bottom:"20%",top:"15%",containLabel:!0},xAxis:{type:"category",data:["转省外住院","转省内住院","普通住院","特殊疾病门诊","生育住院","门诊慢性病","普通门诊"],axisLabel:{rotate:40,fontSize:12,color:"#ffffff",interval:0},axisLine:{lineStyle:{color:"#444"}},axisTick:{show:!1}},yAxis:[{type:"value",name:"平均费用（元）",nameTextStyle:{color:"#4ECDC4"},position:"left",axisLabel:{color:"#ffffff"},axisLine:{lineStyle:{color:"#444"}},splitLine:{lineStyle:{color:"rgba(255,255,255,0.1)"}}},{type:"value",name:"患者数量",nameTextStyle:{color:"#ffffff"},position:"right",axisLabel:{color:"#ddd"},axisLine:{lineStyle:{color:"#444"}},splitLine:{show:!1}}],series:[{name:"平均费用",type:"line",yAxisIndex:0,smooth:!0,data:[8643.01,4326.89,2078.59,1281.25,1946.05,310.29,64.4],lineStyle:{color:"#4ECDC4",width:3},itemStyle:{color:"#4ECDC4",borderWidth:2,borderColor:"#fff"},symbol:"circle",symbolSize:8,areaStyle:{color:new x.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(78, 205, 196, 0.3)"},{offset:1,color:"rgba(78, 205, 196, 0)"}])},emphasis:{scale:!0,scaleSize:5,itemStyle:{shadowBlur:10,shadowColor:"rgba(78, 205, 196, 0.8)"}}},{name:"患者数量",type:"line",yAxisIndex:1,smooth:!0,data:[1283,480,3211,1010,383,7232,2114],lineStyle:{color:"#FF6B6B",width:3,type:"dashed"},itemStyle:{color:"#FF6B6B",borderWidth:2,borderColor:"#fff"},symbol:"diamond",symbolSize:8,emphasis:{scale:!0,scaleSize:5,itemStyle:{shadowBlur:10,shadowColor:"rgba(255, 107, 107, 0.8)"}}}]};r.setOption(e),window.itemOneInstance=r,a("register",r),window.addEventListener("resize",()=>r.resize())};return(0,o.sV)(()=>n()),(e,t)=>((0,o.uX)(),(0,o.CE)("div",null,[t[0]||(t[0]=(0,o.Lk)("h2",null,"各住院类型费用与主要患者数量分析",-1)),(0,o.Lk)("div",{ref_key:"chart",ref:l,class:"chart-container"},null,512)]))}};const k=(0,y.A)(L,[["__scopeId","data-v-e93689b0"]]);var C=k,F={__name:"itemTwo",emits:["register"],setup(e,{emit:t}){const a=t,l=(0,w.KR)(null);let r=null;const n=()=>{if(!l.value)return;r=x.init(l.value);const e={tooltip:{trigger:"axis",formatter:"{b}: ¥{c}"},grid:{left:"3%",right:"8%",bottom:"3%",top:"3%"},xAxis:{type:"value",axisLabel:{color:"#ffffff",fontSize:12}},yAxis:{type:"category",data:["主动脉弓狭窄","恶性肿瘤","肝肿瘤","主动脉瓣关闭不全","其他","脊柱侧弯","伯基特淋巴瘤","鼻恶性肿瘤","急性高侧壁心肌梗死","咽恶性肿瘤"],axisLabel:{color:"#ffffff",fontSize:12}},series:[{type:"bar",data:[167191.71,76936.12,59469.24,51511.65,49435.15,49387.07,41103.32,40163.25,39734.05,39691.84],axisLabel:{color:"#ddd"},itemStyle:{color:"#4facfe",label:{show:!0,position:"right",color:"#ffffff",formatter:"¥{c}"}}}]};r.setOption(e),a("register",r),window.addEventListener("resize",()=>{r.resize()})};return(0,o.sV)(()=>{n()}),(e,t)=>((0,o.uX)(),(0,o.CE)("div",null,[t[0]||(t[0]=(0,o.Lk)("h2",null,"疾病费用TOP10数据",-1)),(0,o.Lk)("div",{ref_key:"chart",ref:l,class:"chart-container"},null,512)]))}};const z=(0,y.A)(F,[["__scopeId","data-v-fb41b87e"]]);var I=z,E=a(4373),_={__name:"itemThree",setup(e){const t=(0,w.KR)(!0),a=(0,w.Kh)({legendData:[],seriesData:[]}),r={legendData:["转省外住院","普通住院","门诊慢性病","特殊疾病门诊","转省内住院","生育住院","普通门诊"],seriesData:[{value:8643.01,name:"转省外住院",itemStyle:{color:"#9FA8DA"}},{value:4326.89,name:"转省内住院",itemStyle:{color:"#A5D6A7"}},{value:2078.59,name:"普通住院",itemStyle:{color:"#80CBC4"}},{value:1281.25,name:"特殊疾病门诊",itemStyle:{color:"#81D4FA"}},{value:1946.05,name:"生育住院",itemStyle:{color:"#F48FB1"}},{value:310.29,name:"门诊慢性病",itemStyle:{color:"#FFE082"}},{value:64.4,name:"普通门诊",itemStyle:{color:"#BDBDBD"}}]},n=(0,w.KR)(null);let i=null;const s=async()=>{i?.showLoading();try{const e=await E.A.get("/three/data"),t=e.data.data.chartThree.chartData;return{legendData:t.map(e=>e.name),seriesData:t}}catch(e){return console.error("接口请求失败：",e),alert("接口加载失败，自动切换为本地数据"),r}finally{i?.hideLoading()}},c=e=>{a.legendData=e.legendData,a.seriesData=e.seriesData,!i&&n.value&&(i=x.init(n.value),window.addEventListener("resize",()=>i?.resize()));const t={legend:{orient:"vertical",left:15,top:"center",data:a.legendData,textStyle:{fontSize:10,color:"#fff"},itemWidth:10,itemHeight:8},series:[{name:"费用分布",type:"pie",radius:["45%","75%"],center:["55%","40%"],itemStyle:{borderRadius:6,borderWidth:2,animationDuration:1e3,animationEasing:"cubicOut",animationDelay:e=>100*e},emphasis:{scale:!0,scaleSize:10,label:{show:!0,formatter:"{b} ({d}%)",fontSize:10,color:"#A5D6A7"}},data:a.seriesData}],tooltip:{trigger:"item",backgroundColor:"rgba(255,255,255,0.9)",borderColor:"#ddd",borderWidth:1,textStyle:{color:"#333"},formatter:function(e){const t=(e.value/1e4).toFixed(2);return`<div style="font-size:12px">\n                  <strong>${e.name}</strong><br/>\n                  总费用：<span style="color:#e74c3c">¥${e.value.toLocaleString()}</span><br/>\n                  约合：<span style="color:#3498db">${t}万元</span><br/>\n                  占比：<span style="color:#2ecc71">${e.percent.toFixed(2)}%</span>\n                </div>`}}};i.setOption(t)},d=async()=>{t.value=!t.value;const e=t.value?r:await s();c(e)};return(0,o.sV)(()=>{c(r)}),(e,a)=>((0,o.uX)(),(0,o.CE)("div",null,[a[0]||(a[0]=(0,o.Lk)("h2",null,"住院类型平均费用主要分布",-1)),(0,o.Lk)("button",{class:"toggle-btn",onClick:d},(0,l.v_)(t.value?"切换为接口加载":"切换为本地数据"),1),(0,o.Lk)("div",{ref_key:"chart",ref:n,class:"chart-container"},null,512)]))}};const A=(0,y.A)(_,[["__scopeId","data-v-3f4a3860"]]);var B=A,D={__name:"itemFour",emits:["register"],setup(e,{emit:t}){const a=t,l=(0,w.KR)(null);let r=null;const n=()=>{if(!l.value)return;r=x.init(l.value);const e={legend:{data:["儿童患者","青年患者","中年中老年患者","老年患者"],top:0,textStyle:{color:"#ffffff"},itemWidth:12,itemHeight:12,icon:"circle"},grid:{left:"10%",right:"10%",bottom:"20%",top:"10%",containLabel:!0},xAxis:{name:"年龄",nameTextStyle:{color:"#ffffff",fontSize:12},nameLocation:"end",nameGap:10,type:"value",min:0,max:90,axisLine:{lineStyle:{color:"#888888"}},axisLabel:{color:"#ffffff"},splitLine:{lineStyle:{color:"rgba(255,255,255,0.2)"}}},yAxis:{name:"医疗费用（元）",nameTextStyle:{color:"#ffffff",fontSize:12},nameLocation:"middle",nameGap:40,type:"value",min:0,max:2e4,axisLine:{lineStyle:{color:"#888888"}},axisLabel:{color:"#ffffff",formatter:e=>e>=1e4?`${(e/1e4).toFixed(1)}万`:e},splitLine:{lineStyle:{color:"rgba(255,255,255,0.2)"}}},tooltip:{trigger:"axis",backgroundColor:"rgba(10, 30, 50, 0.9)",borderColor:"#4facfe",textStyle:{color:"#ffffff"},formatter:e=>{if(!e||0===e.length)return"暂无数据";const t=e[0],a=t.value?.[0]??"未知",o=void 0!==t.value?.[1]?`¥${t.value[1].toLocaleString()}`:"未知";return`${t.seriesName}<br/>年龄：${a}岁<br/>费用：${o}`}},series:[{name:"儿童患者",type:"scatter",symbolSize:14,data:[[12,4539.06],[6,4259.71],[6,4502.23],[2,11703.17],[3,18338.08],[13,1429.69],[2,3690.94],[3,398.37],[5,18417.99],[15,1813.88]],itemStyle:{color:"#4facfe"},emphasis:{symbolSize:20,itemStyle:{shadowBlur:10}}},{name:"青年患者",type:"scatter",symbolSize:14,data:[[29,13792.46],[32,1670.55],[31,2546.01],[32,3533.38],[33,2266.45],[34,1036.73],[21,167191.17],[22,873.43],[34,286.83],[20,1532.77]],itemStyle:{color:"#00f2fe"},emphasis:{symbolSize:20,itemStyle:{shadowBlur:10}}},{name:"中年中老年患者",type:"scatter",symbolSize:14,data:[[42,8129.72],[45,1805.82],[49,1522.71],[38,13290.86],[50,1696.96],[49,1281.19],[43,2495.31],[45,4549.96],[49,7260.63],[50,7273.57]],itemStyle:{color:"#00d2ff"},emphasis:{symbolSize:20,itemStyle:{shadowBlur:10}}},{name:"老年患者",type:"scatter",symbolSize:14,data:[[91,6641.21],[85,588.31],[66,14986.27],[66,1098.47],[69,365.24],[71,74.89],[86,103.36],[78,369.37],[88,564.94],[77,252.19]],itemStyle:{color:"#ff6b6b"},emphasis:{symbolSize:20,itemStyle:{shadowBlur:10}}}]};r.setOption(e),a("register",r),window.addEventListener("resize",()=>r.resize())};return(0,o.sV)(()=>n()),(e,t)=>((0,o.uX)(),(0,o.CE)("div",null,[t[0]||(t[0]=(0,o.Lk)("h2",null,"医疗总费用与年龄的抽样关系",-1)),(0,o.Lk)("div",{ref_key:"chart",ref:l,class:"chart-container"},null,512)]))}};const $=(0,y.A)(D,[["__scopeId","data-v-377f2a9a"]]);var R=$;const O="https://lyyb.linyi.gov.cn/bsfw.htm";var W={__name:"itemFive",emits:["register"],setup(e,{emit:t}){const a=t,l=(0,w.KR)(null);let r=null;const n=()=>{if(!l.value)return;r=x.init(l.value);const e={legend:{data:["三级医院","二级医院","一级医院"],right:"5%",top:"8%",orient:"vertical",textStyle:{color:"#ffffff",fontSize:12,fontFamily:"Microsoft YaHei, sans-serif"},itemWidth:12,itemHeight:12,itemGap:15,icon:"circle"},radar:{center:["45%","45%"],radius:"65%",shape:"polygon",splitNumber:4,indicator:[{name:"0-18岁",max:5e3},{name:"19-35岁",max:5e3},{name:"36-65岁",max:5e3},{name:"65岁以上",max:5e3},{name:"总计",max:5e3}],axisLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.25)",width:1,type:"solid"}},splitLine:{lineStyle:{color:"rgba(255,255,255,0.1)",width:1,type:"solid"}},splitArea:{show:!0,areaStyle:{color:["rgba(255,255,255,0.03)","rgba(255,255,255,0.01)","rgba(255,255,255,0.03)","rgba(255,255,255,0.01)"]}},name:{textStyle:{color:"#ffffff",fontSize:12,fontWeight:"normal",backgroundColor:"rgba(0,0,0,0.2)",padding:[4,8],borderRadius:6,borderWidth:1,borderColor:"rgba(255,255,255,0.1)"}}},series:[{name:"医院等级分布",type:"radar",smooth:.3,symbol:"circle",symbolSize:8,lineStyle:{width:2.5,opacity:.9},data:[{value:[501,384,1357,672,2914],name:"三级医院",lineStyle:{color:"#FF9AA2",width:2.5,shadowBlur:6,shadowColor:"rgba(255, 154, 162, 0.5)"},areaStyle:{color:new x.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(255, 154, 162, 0.3)"},{offset:1,color:"rgba(255, 154, 162, 0.05)"}])},itemStyle:{color:"#FFFFFF",borderColor:"#FF9AA2",borderWidth:2,shadowBlur:4,shadowColor:"rgba(255, 154, 162, 0.3)"},symbol:"circle",symbolSize:9},{value:[643,600,2263,1484,4990],name:"二级医院",lineStyle:{color:"#7FDBDA",width:2.5,shadowBlur:6,shadowColor:"rgba(127, 219, 218, 0.5)"},areaStyle:{color:new x.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(127, 219, 218, 0.3)"},{offset:1,color:"rgba(127, 219, 218, 0.05)"}])},itemStyle:{color:"#FFFFFF",borderColor:"#7FDBDA",borderWidth:2,shadowBlur:4,shadowColor:"rgba(127, 219, 218, 0.3)"},symbol:"circle",symbolSize:9},{value:[311,208,1105,1099,2723],name:"一级医院",lineStyle:{color:"#B5B9FF",width:2.5,shadowBlur:6,shadowColor:"rgba(181, 185, 255, 0.5)"},areaStyle:{color:new x.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(181, 185, 255, 0.3)"},{offset:1,color:"rgba(181, 185, 255, 0.05)"}])},itemStyle:{color:"#FFFFFF",borderColor:"#B5B9FF",borderWidth:2,shadowBlur:4,shadowColor:"rgba(181, 185, 255, 0.3)"},symbol:"circle",symbolSize:9}],emphasis:{lineStyle:{width:3.5,shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.2)"},itemStyle:{shadowBlur:8,shadowColor:"rgba(0, 0, 0, 0.2)"},areaStyle:{opacity:.4}}}],tooltip:{trigger:"axis",backgroundColor:"rgba(30, 30, 40, 0.95)",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,textStyle:{color:"#ffffff",fontSize:12},formatter:e=>{const t=["0-18岁","19-35岁","36-65岁","65岁以上","总计"],a=e.seriesName,o=t[e.dataIndex],l=e.value[e.dataIndex];let r="#7FDBDA";return a.includes("三级")&&(r="#FF9AA2"),a.includes("一级")&&(r="#B5B9FF"),4===e.dataIndex?`\n            <div style="font-weight: 600; color: ${r}; margin-bottom: 6px;">\n              ${a}\n            </div>\n            <div style="color: #ffffff; padding-left: 8px;">\n              <span style="color: ${r}">●</span> 患者总数：<span style="color: #ffffff; font-weight: 600;">${l}人</span>\n            </div>\n          `:`\n          <div style="font-weight: 600; color: ${r}; margin-bottom: 6px;">\n            ${a}\n          </div>\n          <div style="color: #ffffff; padding-left: 8px;">\n            <span style="color: ${r}">●</span> ${o}：<span style="color: #ffffff; font-weight: 600;">${l}人</span>\n          </div>\n        `}},animation:!0,animationDuration:800,animationEasing:"cubicOut"};r.setOption(e),r.on("click",function(){window.location.href=O}),a("register",r),window.addEventListener("resize",()=>{r&&r.resize()})};return(0,o.sV)(()=>{n()}),(e,t)=>((0,o.uX)(),(0,o.CE)("div",null,[t[0]||(t[0]=(0,o.Lk)("h2",null,"各年龄段和整体在不同等级医院的就医分布",-1)),(0,o.Lk)("div",{ref_key:"chart",ref:l,class:"chart-container",style:{cursor:"pointer"}},null,512)]))}};const T=(0,y.A)(W,[["__scopeId","data-v-b1cd6392"]]);var K=T;const M={class:"chart-legend"},X={class:"legend-text"};var P={__name:"itemSix",emits:["register"],setup(e,{emit:t}){const a=t,r=(0,w.KR)(null);let n=null,i=null;const s=["#1a365d","#2c5282","#3182ce","#63b3ed"],c=["#bfdbfe","#93c5fd","#60a5fa","#3b82f6"],d=["转省外住院","普通住院","门诊慢性病","特殊疾病门诊"],u=()=>{if(!r.value)return;n=x.init(r.value);const e=[{name:"医保支出",children:[{name:"转省外住院",value:11085e3,children:[{name:"兰山区",value:5542500,children:[{name:"主动脉弓狭窄",value:24e5},{name:"恶性肿瘤维持性化疗",value:18e5},{name:"疑难重症",value:1342500}]},{name:"罗庄区",value:2771250,children:[{name:"肿瘤疾病",value:12e5},{name:"骨科疾病",value:95e4},{name:"其他",value:621250}]},{name:"平邑县",value:2771250,children:[{name:"心血管疾病",value:115e4},{name:"神经系统疾病",value:92e4},{name:"其他",value:701250}]}]},{name:"普通住院",value:667e4,children:[{name:"兰山区",value:3668500,children:[{name:"呼吸系统疾病",value:135e4},{name:"消化系统疾病",value:115e4},{name:"外伤",value:85e4},{name:"其他",value:318500}]},{name:"罗庄区",value:1667500,children:[{name:"慢性疾病",value:75e4},{name:"急性感染",value:52e4},{name:"妇产科疾病",value:397500}]},{name:"平邑县",value:1334e3,children:[{name:"常见疾病",value:85e4},{name:"急诊处理",value:484e3}]}]},{name:"门诊慢性病",value:2244e3,children:[{name:"兰山区",value:1234200,children:[{name:"高血压",value:48e4},{name:"糖尿病",value:42e4},{name:"冠心病",value:24e4},{name:"其他慢性病",value:94200}]},{name:"罗庄区",value:561e3,children:[{name:"高血压",value:22e4},{name:"糖尿病",value:19e4},{name:"冠心病",value:1e5},{name:"其他慢性病",value:51e3}]},{name:"平邑县",value:448800,children:[{name:"高血压",value:18e4},{name:"糖尿病",value:14e4},{name:"冠心病",value:8e4},{name:"其他慢性病",value:48800}]}]},{name:"特殊疾病门诊",value:1294e3,children:[{name:"兰山区",value:711700,children:[{name:"血液疾病",value:25e4},{name:"免疫系统疾病",value:21e4},{name:"精神类疾病",value:16e4},{name:"其他特殊疾病",value:91700}]},{name:"罗庄区",value:323500,children:[{name:"血液疾病",value:11e4},{name:"免疫系统疾病",value:95e3},{name:"精神类疾病",value:7e4},{name:"其他特殊疾病",value:48500}]},{name:"平邑县",value:258800,children:[{name:"血液疾病",value:9e4},{name:"免疫系统疾病",value:75e3},{name:"精神类疾病",value:5e4},{name:"其他特殊疾病",value:43800}]}]}]}],t={tooltip:{trigger:"item",formatter:({name:e,value:t})=>{const a=21293e3,o=(t/a*100).toFixed(2);return`${e}<br/>金额: ${t.toLocaleString()}元<br/>占比: ${o}%`},backgroundColor:"rgba(26, 54, 93, 0.9)",borderColor:"#63b3ed",borderWidth:1,textStyle:{color:"#fff",fontSize:12},position:function(e,t,a,o,l){return[e[0]-l.contentSize[0]/2,e[1]-l.contentSize[1]]}},series:{type:"sunburst",data:e,radius:[0,"80%"],sort:"desc",levels:[{itemStyle:{borderRadius:12,borderColor:"rgba(255, 255, 255, 0.15)",borderWidth:2,color:s[0],shadowColor:"rgba(99, 179, 237, 0.3)",shadowBlur:8}},{r0:"0%",r:"25%",label:{show:!0,position:"outside",rotate:0,fontSize:14,fontWeight:"bold",color:"#ffffff",shadowColor:"rgba(0,0,0,0.2)",shadowOffsetX:1,shadowOffsetY:1},itemStyle:{borderWidth:2,borderColor:"rgba(255, 255, 255, 0.2)",borderRadius:8,color:s[1],shadowColor:"rgba(99, 179, 237, 0.4)",shadowBlur:6}},{r0:"25%",r:"50%",label:{show:!0,rotate:"radial",fontSize:12,color:"#ffffff",shadowColor:"rgba(0,0,0,0.15)",shadowOffsetX:1,shadowOffsetY:1},itemStyle:{borderWidth:1,borderColor:"rgba(255, 255, 255, 0.15)",borderRadius:4,color:s[2],shadowColor:"rgba(99, 179, 237, 0.3)",shadowBlur:4}},{r0:"50%",r:"75%",label:{show:!1},itemStyle:{borderWidth:1,borderColor:"rgba(255, 255, 255, 0.1)",borderRadius:2,color:s[3],shadowColor:"rgba(99, 179, 237, 0.2)",shadowBlur:2}}],label:{minAngle:15,overflow:"truncate",width:70},emphasis:{focus:"ancestor",label:{show:!0,fontWeight:"bold",color:"#ffffff"},itemStyle:{borderRadius:10,brightness:.15,shadowBlur:12,shadowColor:"rgba(99, 179, 237, 0.6)"}},itemStyle:{color:e=>{const t=e.data.path?.[1];if(!t)return s[0];const a=t.name,o=d.findIndex(e=>e===a);return o>-1?c[o]:s[Math.min(e.level,3)]}}}};n.setOption(t),a("register",n),i=()=>{n&&n.resize()},window.addEventListener("resize",i)};return(0,o.sV)(()=>{u()}),(0,o.hi)(()=>{i&&window.removeEventListener("resize",i),n&&n.dispose(),n=null}),(e,t)=>((0,o.uX)(),(0,o.CE)("div",null,[t[0]||(t[0]=(0,o.Lk)("h2",{class:"chart-title"},"医保支出TOP3地区结构分析",-1)),(0,o.Lk)("div",M,[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(d,(e,t)=>(0,o.Lk)("div",{class:"legend-item",key:t},[(0,o.Lk)("span",{class:"legend-color",style:(0,l.Tr)({backgroundColor:c[t]})},null,4),(0,o.Lk)("span",X,(0,l.v_)(e),1)])),64))]),(0,o.Lk)("div",{ref_key:"chart",ref:r,class:"chart-container"},null,512)]))}};const G=(0,y.A)(P,[["__scopeId","data-v-10171808"]]);var V=G;const H={class:"mapshandonglinyishi",id:"mapshandonglinyishi"};var N={__name:"mapPage",emits:["register"],setup(e,{emit:t}){const a=t,l=(0,o.WQ)("echarts"),r=(0,w.Kh)({});async function n(){const e=await E.A.get("http://localhost:8080/map/shandonglinyishi.geojson");Object.assign(r,e.data)}return(0,o.sV)(async()=>{await n(),l.registerMap("shandonglinyishi",r);const e=l.init(document.getElementById("mapshandonglinyishi")),t=[{name:"兰山区",value:[118.35,35.05,5751]},{name:"罗庄区",value:[118.46,34.9,2517]},{name:"平邑县",value:[117.63,35.49,1789]},{name:"莒南县",value:[118.83,35.17,722]},{name:"市本级",value:[118.33,35.06,638]},{name:"临沭县",value:[118.73,34.87,521]},{name:"沂水县",value:[118.64,35.79,455]},{name:"郯城县",value:[118.36,34.61,367]},{name:"兰陵县",value:[118.03,34.84,347]},{name:"费县",value:[117.97,35.26,284]},{name:"沂南县",value:[118.47,35.54,258]},{name:"平邑镇",value:[117.63,35.49,117]},{name:"蒙阴县",value:[117.95,35.7,110]}];e.setOption({geo:{map:"shandonglinyishi",left:"10%",top:"15%",right:"10%",bottom:"10%",itemStyle:{areaColor:"#cce7ff",borderColor:"#2f80ed",borderWidth:1.5,shadowColor:"rgba(47, 128, 237, 0.2)",shadowBlur:15,emphasis:{focus:"self",areaColor:"#b3d8fc",borderColor:"#1d71d8"}}},tooltip:{trigger:"item",backgroundColor:"rgba(255, 255, 255, 0.9)",borderColor:"#e6e6e6",borderWidth:1,padding:[10,15],textStyle:{color:"#1d2129",fontSize:12},formatter:e=>{const t=e.value?.[2]||0;return`<div style="text-align: left;">\n          <div style="font-weight: bold; color: #d92d20; margin-bottom: 4px;">${e.name}</div>\n          <div style="color: #4e5969;">医保参保人数：<span style="font-size: 14px; color: #1d2129;">${t.toLocaleString()}</span> 人</div>\n        </div>`}},title:{text:"市区医保数据人数的分布情况",left:"center",top:"2%",textStyle:{color:"#ffffff",fontSize:18,textShadowBlur:5,textShadowColor:"rgba(0, 0, 0, 0.1)"}},visualMap:{type:"continuous",min:100,max:6e3,calculable:!0,left:"5%",bottom:"5%",itemWidth:15,itemHeight:120,inRange:{color:["#e8f4fd","#b7eb8f","#ffd591"]},textStyle:{color:"#ffffff",fontSize:11},text:["高","低"],textGap:10},series:[{type:"scatter",coordinateSystem:"geo",symbolSize:e=>Math.sqrt(e[2])/5+5,itemStyle:{color:"#0d3c7a ",opacity:.8,emphasis:{color:"#d92d20",shadowBlur:10,shadowColor:"rgba(245, 63, 63, 0.3)"}},data:t,animationDuration:1500,animationEasing:"elasticOut",animationDelay:e=>100*e}]}),setInterval(()=>{const a=t.map(e=>({...e,value:[e.value[0],e.value[1],Math.round(e.value[2]*(.95+.1*Math.random()))]}));e.setOption({series:[{data:a,animationDuration:800,animationEasingUpdate:"cubicOut"}]})},5e3),e.on("click",e=>{console.log("地图点击事件：",{"区域":e.name,"医保人数":e.value?.[2]||"未知","坐标":e.value?.slice(0,2)||[]})}),a("register",e);const o=()=>e.resize();window.addEventListener("resize",o)}),(e,t)=>((0,o.uX)(),(0,o.CE)("div",H,[...t[0]||(t[0]=[(0,o.Lk)("h2",null,"图表6",-1),(0,o.Lk)("div",{class:"chart"},"图表的容器",-1)])]))}};const U=N;var j=U,Y={name:"HomePage",components:{ItemPage:S,ItemOne:C,ItemTwo:I,ItemThree:B,ItemFour:R,ItemFive:K,ItemSix:V,MapPage:j},setup(){const e=(0,w.KR)([]),t=(0,w.KR)(!0),a=(0,w.KR)("暂无"),l=(0,w.KR)([]);let r=null;const n=(e,t,o)=>{const r=(new Date).toLocaleTimeString(),n=`[${r}] ${e}: ${t} ${o?`- ${o}`:""}`;l.value.unshift(n),a.value=n,l.value.length>10&&l.value.pop()},i=t=>{if(!t||e.value.includes(t))return;e.value.push(t);const a=["各住院类型分析","TOP10疾病费用","住院类型分布","医疗费用与年龄","医院等级分布","医保支出结构","临沂市地图"],o=a[e.value.length-1]||`图表${e.value.length}`;s(t,o),n(o,"图表初始化完成","已注册到联动系统")},s=(a,o)=>{a&&(a.on("click",l=>{t.value&&(n(o,"点击",`${l.name||l.seriesName}`),e.value.forEach(e=>{if(e!==a)try{void 0!==l.dataIndex&&e.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:l.dataIndex}),e.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:l.dataIndex||0})}catch(t){}}))}),a.on("mouseover",o=>{t.value&&e.value.forEach(e=>{if(e!==a&&void 0!==o.dataIndex)try{e.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:o.dataIndex})}catch(t){}})}),a.on("globalout",()=>{t.value&&e.value.forEach(e=>{if(e!==a)try{e.dispatchAction({type:"hideTip"})}catch(t){}})}),a.on("selectchanged",e=>{if(!t.value)return;const a=e.selected.map(e=>e.name).join(", ");n(o,"数据选中",a||"无")}))},c=()=>{e.value.forEach(e=>{try{e.dispatchAction({type:"downplay"}),e.dispatchAction({type:"hideTip"})}catch(t){}}),n("系统","重置联动","所有图表状态已重置")},d=()=>{n("系统","开始模拟数据更新","异步加载中..."),setTimeout(()=>{if(e.value.length>0){const a=Math.floor(Math.random()*e.value.length),o=e.value[a];try{const e=o.getOption();if(e.series&&e.series[0]){const t=e.series[0].data.map(e=>"number"===typeof e?e*(.9+.2*Math.random()):e&&e.value?{...e,value:e.value*(.9+.2*Math.random())}:e);o.setOption({series:[{...e.series[0],data:t,animationDuration:1e3,animationEasing:"cubicOut"}]}),n(`图表${a+1}`,"数据已更新","模拟异步数据加载完成")}}catch(t){console.log("数据更新失败:",t)}}},1500)},u=()=>{t.value=!t.value,n("系统",t.value?"启用联动":"禁用联动")},m=()=>{r&&clearInterval(r),r=setInterval(()=>{e.value.length>0&&Math.random()>.7&&d()},3e4)},f=()=>{if(e.value.length>0)try{x.connect(e.value);const t="dashboard-charts";e.value.forEach(e=>{e.group=t}),n("系统","图表联动已建立",`已连接${e.value.length}个图表`),m()}catch(t){console.error("图表连接失败:",t)}},h=()=>{const t=()=>{e.value.forEach(e=>{e&&!e.isDisposed()&&e.resize()})},a=document.querySelector(".container");if(a){const e=new ResizeObserver(t);e.observe(a),(0,o.hi)(()=>{e.disconnect()})}window.addEventListener("resize",t),(0,o.hi)(()=>{window.removeEventListener("resize",t)})};(0,o.sV)(()=>{setTimeout(()=>{f(),h()},1e3),document.addEventListener("keydown",v)});const v=e=>{switch(e.key){case"r":case"R":e.ctrlKey&&c();break;case"l":case"L":e.ctrlKey&&u();break;case"u":case"U":e.ctrlKey&&d();break}};return(0,o.hi)(()=>{r&&clearInterval(r),document.removeEventListener("keydown",v),e.value.forEach(e=>{try{e.dispose()}catch(t){}}),e.value=[]}),{chartInstances:e,linkageEnabled:t,lastInteraction:a,interactionLogs:l,registerChart:i,resetLinkage:c,simulateDataUpdate:d,toggleLinkage:u}}};const q=(0,y.A)(Y,[["render",h]]);var Q=q}}]);
//# sourceMappingURL=507.a1058b75.js.map